var console=console||{log:function(a){}},debug=debug||{enabled:!0,log:function(a){this.enabled&&console.log(a)}};!function(a){a.fn.infiniteSlider=function(b){function c(){var a=navigator.userAgent.toLowerCase();return-1!=a.indexOf("msie")?parseInt(a.split("msie")[1]):!1}function d(b,d){return"object"!=typeof b||null===b?!1:(d.ie_version=c(),d.ie_version&&d.ie_version<9?(debug.log("Incompatible version of IE (less than 9), slider will not load"),!1):(d.container=a(b),d.base_element=d.container.find(".slide-mask"),d.slider_body=d.base_element.find(".slider-body"),d.slider_elements=d.slider_body.children(".slide"),d.element_count=d.slider_elements.length,d.scrolling=!1,d.element_count<1?(debug.log("No slides found"),!1):(d.element_first=a(d.slider_elements.get(0)).clone().addClass("slide-temp"),d.element_last=a(d.slider_elements.get(d.element_count-1)).clone().addClass("slide-temp"),debug.log("First: "+d.element_first),debug.log("Last: "+d.element_last),f(d))))}function e(a,b){var c=0;if("number"==typeof b&&b>0){if(b==a.max_index-1){var d=a.element_count%a.slides_visible;debug.log(d),d>0&&(b-=d/a.slides_visible)}a.element_last&&a.element_count>a.slides_visible+1&&(b+=1/a.slides_visible),c=-100*b+"%"}0===b&&a.container.hasClass("scrolling")&&a.element_last&&a.element_count>a.slides_visible+1&&(c=1/a.slides_visible*-100+"%");var e="translate3d( "+c+", 0, 0 )",f="translate("+c+", 0)";a.ie_version&&9==a.ie_version?(debug.log("Microsoft: "+f),a.slider_body.css("transform",f)):(debug.log("Standard: "+e),a.slider_body.css("transform",e))}function f(b){b.index=0,b.outer_width=b.slider_body.width(),b.slide_width=a(b.slider_elements.get(0)).width();var c=b.outer_width/b.slide_width;b.slides_visible=Math.ceil(c);var d=b.slides_visible-c;return debug.log("Slide width variance: "+d),.99>d&&d>.01?(debug.log("Slide alignment is off, partial slide shown in slider."),!1):(1>d&&d>.99&&b.slides_visible--,b.max_index=Math.ceil(b.element_count/b.slides_visible),e(b,0),debug.log("Slider width: "+b.outer_width),debug.log("Number of Slides: "+b.element_count),debug.log("Slide width: "+b.slide_width),debug.log("Slides per window: "+b.slides_visible),debug.log("Current slides: "+b.index),debug.log("Max slides: "+b.max_index),a(window).resize(_.debounce(function(){f(b)},1e3)),b)}function g(a,b){b.base_element.children(".slide-left").on("click",{slider:b},function(a){var c=a.data.slider;c.index>0?c.index=c.index-1:0===c.index&&(c.index=c.max_index-1),c.scrolling===!1&&h(b),e(c.index)}),b.base_element.children(".slide-right").on("click",{slider:a},function(a){var c=a.data.slider;c.index<c.max_index-1?c.index=c.index+1:c.index==c.max_index-1&&(c.index=0),c.scrolling===!1&&h(b),e(c.index)})}function h(a){a.scrolling=!0,a.container.addClass("scrolling"),a.element_count>a.slides_visible+1&&(a.element_first&&a.slider_body.append(a.element_first),a.element_last&&a.slider_body.prepend(a.element_last))}return this.each(function(b){var c={base_element:null,container:null,element_count:!1,element_first:null,element_last:null,ie_version:0,index:0,max_index:0,outer_width:0,scrolling:!1,slide_percent:0,slide_width:0,slider_elements:null,slider_body:null,slides_visible:0},e=a.extend({},c,b);return e=d(this,e),e===!1?void debug.log("Problem initializing slider: "+this):void g(this,e)})}}(jQuery);